<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
  <head>
    <title>ht://Dig Frequently Asked Questions</title>
  </head>

  <body bgcolor="#eef7ff">
      <h1>Frequently Asked Questions</h1>
      <p>
	ht://Dig Copyright &copy; 1995-1999 The ht://Dig Group
	<br>
	Please see the file <a href="COPYING">COPYING</a> for license
	information.</p>
      <hr noshade size=4>
      <p>This FAQ is compiled by Geoff Hutchison 
      &lt;<a href="mailto:ghutchis@wso.williams.edu">ghutchis@wso.williams.edu</a>&gt;
      and the most recent version is available at
      &lt;<a href="http://www.htdig.org/FAQ.html">http://www.htdig.org/FAQ.html</a>&gt;.
      Questions (and answers!) are greatly appreciated.</p>
      <h2>Questions</h2>

      <h3>1. General</h3>
      1.1. <a href="#q1.1">Can I search the internet with ht://Dig?</a><br>
      1.2. <a href="#q1.2">Can I index the internet with ht://Dig?</a><br>
      1.3. <a href="#q1.3">What's the difference between htdig and ht://Dig?</a><br>
      1.4. <a href="#q1.4">I sent mail to Andrew but I never got a response!</a><br>
      1.5. <a href="#q1.5">I sent a question to the mailing list but I
      never got a response!</a><br>
      1.6. <a href="#q1.6">I have a great idea/patch for ht://Dig!</a><br>
      1.7. <a href="#q1.7">Is ht://Dig Y2K compliant?</a><br>
      1.8. <a href="#q1.8">I think I found a bug. What should I do?</a><br>
      1.9. <a href="#q1.9">Does ht://Dig support phrase or near matching?</a><br>
      <hr noshade size=2>

      <h3>2. Getting ht://Dig</h3>
      2.1. <a href="#q2.1">What's the latest version of ht://Dig?</a><br>
      2.2. <a href="#q2.2">Are there binary distributions of ht://Dig?</a><br>
      2.3. <a href="#q2.3">Are there mirror sites for ht://Dig?</a><br>
      2.4. <a href="#q2.4">Is ht://Dig available by ftp?</a><br>
      2.5. <a href="#q2.5">Are patches around to upgrade between
      versions?</a><br>
      <hr noshade size=2>

      <h3>3. Compiling</h3>
      3.1. <a href="#q3.1">When I compile ht://Dig I get an error about libht.a.</a><br>
      3.2. <a href="#q3.2">I get an error about -lg</a><br>
      3.3. <a href="#q3.3">I'm compiling on Digital Unix and I get
      mesages about "unresolved" and "db_open."</a><br>
      <hr noshade size=2>

      <h3>4. Configuration</h3>
      4.1. <a href="#q4.1">How come I can't index my site?</a><br>
      4.2. <a href="#q4.2">How can I change the output format of htsearch?</a><br>
      4.3. <a href="#q4.3">How do I index pages that start with '~'?</a><br>
      4.4. <a href="#q4.4">Can I use multiple databases?</a><br>
      4.5. <a href="#q4.5">OK, I can use multiple databases. Can I
      merge them into one?</a><br>
      4.6. <a href="#q4.6">Wow, ht://Dig eats up a lot of disk space. How can I cut down?</a><br>
      <hr noshade size=2>

      <h3>5. Troubleshooting</h3>
      5.1. <a href="#q5.1">I can't seem to index more than X documents
      in a directory.</a><br>
      5.2. <a href="#q5.2">I can't index PDF files.</a><br>
      5.3. <a href="#q5.3">When I run "rundig," I get a message about
      "DATABASE_DIR" not being found.</a><br>
      5.4. <a href="#q5.4">When I run htmerge, it stops with an "out
      of diskspace" message.</a><br>
      5.5. <a href="#q5.5">I have problems running rundig from cron
      under Linux.</a><br>
      5.6. <a href="#q5.6">When I run htmerge, it stops with an
      "Unexpected file type" message.</a><br>
      5.7  <a href="#q5.7">When I run htsearch, I get lots of Internal
      Server Errors (#500).</a><br>

      <hr noshade size=4>
      <h2>Answers</h2>

      <h3>1. General</h3>
      1.1. <a name="q1.1">Can I search the internet with
      ht://Dig?</a><br>
      <p>No, ht://Dig is a system for indexing and searching a small
      set of sites or intranet. It is not meant to replace any of the
      many internet-wide search engines.</p>

      1.2. <a name="q1.2">Can I index the internet with
      ht://Dig?</a><br>
      <p>No, as above, ht://Dig is not meant as an
      internet-wide search engine. While there is
      <emph>theoretically</emph> nothing to stop you from indexing as
      much as you wish, practical considerations (e.g. time, disk
      space, memory, etc.) will limit this.</p>

      1.3. <a name="q1.3">What's the difference between htdig and
      ht://Dig?</a><br>
      <p>The complete ht://Dig package consists of several programs, one of
      which is called "htdig." This program performs the "digging" or
      indexing of the web pages. Of course an index doesn't do you much good
      without a program to sort it, search through it, etc.</p>

      1.4. <a name="q1.4">I sent mail to Andrew but I never got a
      response!</a><br>
      <p>Andrew no longer does much work on ht://Dig. He has started a
      company, called <a href="http://www.contigo.com/">Contigo
      Software</a> and is quite busy with that. To contact any of the
      current developers, send mail to &lt;<a
      href="mailto:htdig3-dev@htdig.org">htdig3-dev@htdig.org</a>&gt;</p>

      1.5. <a name="q1.5">I sent a question to the mailing list but I
      never got a response!</a><br>
      <p>Development of ht://Dig is done by volunteers. Since we all
      have other jobs, it make take a while before someone gets back
      to you.</p>

      1.6. <a name="q1.6">I have a great idea/patch for
      ht://Dig!</a><br>
      <p>Great! Development of ht://Dig continues through suggestions
      and improvements from users. If you have an idea (or even better,
      a patch), please send it to the ht://Dig mailing list so others
      can use it. For suggestions on how to submit patches, please check 
      the <a href="http://dev.htdig.org/patches.html">"Guidelines for
      Patch Submissions"</a>. If you'd like to make a feature request,
      you can do so through the ht://Dig bug database, either off of &lt;<a
      href="http://www.htdig.org/">www.htdig.org</a>&gt; or by sending
      mail to &lt;<a
      href="mailto:htdig3-bugs@htdig.org">htdig3-bugs@htdig.org</a>&gt;</p>

      1.7. <a name="q1.7">Is ht://Dig Y2K compliant?</a><br>
      <p>
      ht://Dig should be y2k compliant since it never <i>stores</i> dates as 
      two-digit years. Under ht://Dig's copyright (GPL), there is no warranty 
      whatsoever as permitted by law. If you would like an iron-clad,
      legally-binding guarantee, feel free to check the source code
      itself. If you discover something, please let us know!
      </p>

      1.8. <a name="q1.8">I think I found a bug. What should I
      do?</a><br>
      <p>Well, there are probably bugs out there. You have two options
      for bug-reporting. You can either mail the ht://Dig mailing list
      at &lt;<a href="mailto:htdig@sdsu.edu">htdig@sdsu.edu</a>&gt; or
      better yet, report it to the bug database, which ensures it won't
      become lost amongst all of the other mail on the list. To do this,
      either follow the link from &lt;<a
      href="http://www.htdig.org/">www.htdig.org</a>&gt; or by sending
      mail to &lt;<a
      href="mailto:htdig3-bugs@htdig.org">htdig3-bugs@htdig.org</a>&gt;.
      Please try to include as much information as possible, including
      the version of ht://Dig, the OS, and anything else that might be
      helpful. Often, running the programs with one "-v" or more
      (e.g. "-vvv") gives useful debugging information.
      </p>

      1.9. <a name="q1.9">Does ht://Dig support phrase or near matching?</a><br>
      <p>Not at the moment. This will, of course, eventually be
      added. But with volunteers currently doing the development and
      no "best" way to implement this in the current code, it may take
      some time before this happens. Feel free to send suggestions to
      &lt;<a
      href="mailto:htdig3-bugs@htdig.org">htdig3-bugs@htdig.org</a>&gt;.</p>

      <hr noshade size=2>

      <h3>2. Getting ht://Dig</h3>
      2.1. <a name="q2.1">What's the latest version of ht://Dig?</a><br>
      <p>The latest version is 3.1.0b4 as of this writing. Development
      is beginning on htdig4 as well as a few interim releases of
      htdig3.</p>

      2.2. <a name="q2.2">Are there binary distributions of
      ht://Dig?</a><br>
      <p>We're trying to get consistent binary distributions for
      popular platforms If you'd like to volunteer to generate a distribution,
      please send e-mail to the ht://Dig mailing list at &lt;<a
      href="mailto:htdig@sdsu.edu">htdig@sdsu.edu</a>&gt;.</p>

      2.3. <a name="q2.3">Are there mirror sites for ht://Dig?</a><br>
      <p>Currently two sites exist for ht://Dig, &lt;<a
      href="http://www.htdig.org/">www.htdig.org</a>&gt; and &lt;<a
      href="http://htdig.sdsu.edu">htdig.sdsu.edu</a>&gt;. The www.htdig.org
      site contains the most up-to-date information and
      releases. Currently no other mirrors exist, though if you'd like
      to mirror the site, please contact &lt;<a
      href="mailto:ghutchis@wso.williams.edu">ghutchis@wso.williams.edu</a>&gt;</p>

      2.4. <a name="q2.4">Is ht://Dig available by ftp?</a><br>
      <p>Not at the moment. As above, if you'd like to volunteer an
      ftp mirror, it would be greatly appreciated. Please contact &lt;<a
      href="mailto:ghutchis@wso.williams.edu">ghutchis@wso.williams.edu</a>&gt;</p>

      2.5. <a name="q2.5">Are patches around to upgrade between
      versions?</a><br>
      <p>Most versions are also distributed as a patch to the previous
      version's source code. The most recent exception to this was
      version 3.1.0b1. Since this version switched from the GDBM
      database to DB2, the new database package needed to be shipped
      with the distribution. This made the potential patch almost as large
      as the regular distribution. Update patches resumed with version
      3.1.0b2.</p>

      <hr noshade size=2>

      <h3>3. Compiling</h3>
      3.1. <a name="q3.1">When I compile ht://Dig I get an error about
      libht.a</a><br>
      <p>This usually indicates that either libstdc++ is not installed or
      is installed incorrectly. To get libstdc++ or any other GNU too,
      check <a
      href="ftp://ftp.gnu.org/pub/gnu/">ftp://ftp.gnu.org/pub/gnu/</a></p>

      3.2. <a name="q3.2">I get an error about -lg</a><br>
      <p>This is due to a bug in the Makefile.config.in of version
      3.1.0b1. Remove all flags "-ggdb" in Makefile.config.in. Then
      type "./config.status" to rebuild the Makefiles and
      recompile. This bug is fixed in version 3.1.0b2.</p>

      3.3. <a name="q3.3">I'm compiling on Digital Unix and I get
      mesages about "unresolved" and "db_open."</a><br>
      <p>Answer contributed by George Adams
      &lt;learningapache@my-dejanews.com&gt;</p>

      <p>What you're seeing are problems related to the Berkeley DB
      library.  htdig needs a fairly modern version of db, which is
      why it ships with one that works. (see that -L../db-2.4.14/dist
      line?  That's where htdig's db library is).<br>

      The solution is to modify the c++ command so it explicity
      references the correct libdb.a .  You can do this by replacing
      the "-ldb" directive in the c++ command with
      "../db-2.4.14/dist/libdb.a"</p>

      <hr noshade size=2>

      <h3>4. Configuration</h3>
      4.1. <a name="q4.1">How come I can't index my site?</a><br>
      <p>There are a variety of reasons ht://Dig won't index a
      site. To get to the bottom of things, it's advisable to turn on
      some debugging output from the htdig program. When running from
      the command-line, try "-vvv"  in addition to any other
      flags. This will add debugging output, including the responses
      from the server.</p>

      4.2. <a name="q4.2">How can I change the output format of htsearch?</a><br>
<p>Answer contributed by: Malka Cymbalista &lt;vumalki@ultra1.weizmann.ac.il&gt;</p>

<p>You can change the output format of htsearch by creating different
header, footer and result files that specify how you want the output
to look. You then create a configuration file that specifies which
files to use. In the html document that links to the search, you
specify which configuration file to use.</p>

<p>So the configuration file would have the lines:<br>
search_results_header: ${common_dir}/ccheader.html<br>
search_results_footer: ${common_dir}/ccfooter.html<br>
template_map:   Long long builtin-long \<br>
                Short short builtin-short \<br>
                Default default ${common_dir}/ccresult.html<br>
template_name:  Default<br>
You would also put into the configuration file any other lines from the
default configuration file that apply to htsearch.</p>

<p>The files ${common_dir}/ccheader.html and
${common_dir}/ccfooter.html and ${common_dir}/ccresult.html would be
tailored to give the output in the desired format.</p>

<p>Assuming your configuration file is called cc.conf, the html file that
links to the search has to set the config parameter equal to cc. The
following line would do it:<br>
<pre>&lt;input type=hidden name=config value="cc"&gt;</pre></p>

      4.3. <a name="q4.3">How do I index pages that start with '~'?</a><br>
      <p>
      ht://Dig should index pages starting with '~' as if it was another 
      web browser. If you are having problems with this, check your server 
      log files to see what file the server is attempting to return.
      </p>
      
      4.4. <a name="q4.4">Can I use multiple databases?</a><br>
      <p>Yes, though you may find it easier to have one larger
      database and use restrict or exclude fields on searches. To use
      multiple databases, you will need a config file for each
      database. Then each file will set the "database_base" option to
      change the name of the databases.</p>

      4.5. <a name="q4.5">OK, I can use multiple databases. Can I
      merge them into one?</a><br>
      <p>Not at the moment. This is on the TODO list.</a></p>

      4.6. <a name="q4.6">Wow, ht://Dig eats up a lot of disk space. How can I cut down?</a><br>
      <p>There are several ways to cut down on disk space. One is to
      not use the "-a" option, which creates work copies of the
      databases. Naturally this essentially doubles the disk
      usage. Changing configuration variables can also help cut down
      on disk usage. Decreasing max_head_length and
      max_meta_description_length will cut down on the size of the
      excerpts stored (in fact, if you don't have
      use_meta_descriptions set, you can set
      max_meta_description_length to 0!). Other techniques include 
      removing the db.wordlist file and adding more words to the
      bad_words file.</p>

      <hr noshade size=2>

      <h3>5. Troubleshooting</h3>
      5.1. <a name="q5.1">I can't seem to index more than X documents
      in a directory.</a><br>
      <p>This usually has to do with the default document size
      limit. If you set "max_doc_size" in your config file to
      something enough to read in the directory index (try 100000 for
      100K) this should fix this problem. Of course this will require
      more memory to read the larger file.</p>

      5.2. <a name="q5.2">I can't index PDF files.</a><br>
      <p>As above, this usually has to do with the default document
      size. What happens is ht://Dig will read in part of a PDF file
      and try to index it. This usually fails. Try setting
      "max_doc_size" in your config file to a larger value than your
      largest PDF file.</p>

      5.3. <a name="q5.3">When I run "rundig," I get a message about
      "DATABASE_DIR" not being found.</a><br>
      <p>This is due to a bug in the Makefile.in file in version
      3.1.0b1. The easiest fix is to edit the rundig file and change
      the line "TMPDIR=@DATABASE_DIR@" to set TMPDIR to a directory
      with a large amount of temporary disk space for htmerge. This
      bug is fixed in version 3.1.0b2.</p>

      5.4. <a name="q5.4">When I run htmerge, it stops with an "out
      of diskspace" message.</a><br>
      <p>This means that htmerge has run out of temporary disk space
      for sorting. Either in your "rundig" script (if you run htmerge
      through that) or before you run htmerge, set the variable TMPDIR
      to a temp directory with lots of space.</p>

      5.5. <a name="q5.5">I have problems running rundig from cron
      under Linux.</a><br>
      <p>This problem seems to be fixed by upgrading to a recent
      version of cron or vixie-cron. If this doesn't completely fix
      the problem, edit the first line of rundig to "#!/bin/csh" which
      will run the script through the csh shell.</p>

      5.6. <a name="q5.6">When I run htmerge, it stops with an
      "Unexpected file type" message.</a><br>
      <p>Often this is because the databases are corrupt. Try removing
      them and rebuilding. If this doesn't work, some have found that
      the solution for question <a href="#q3.2">3.2</a> works for this
      as well. This should be fixed in version 3.1.0b2.</p>

      5.7  <a name="q5.7">When I run htsearch, I get lots of Internal
      Server Errors (#500).</a><br>
      <p>Answer contributed by David R. Barstis &lt;dbarstis@nd.edu&gt;</p>
      <p>If you are running Apache under Solaris, try adding "PassEnv
      LD_LIBRARY_PATH" to Apache's httpd.conf file. Often these errors
      can be caused by insufficient memory, so if you often run memory
      intensive programs (including htdig and htmerge themselves!)
      htsearch may run out of memory.
      </p>
      <p>

      <hr noshade size=4>
      <address><a href="THANKS.html">$Author: ghutchis $</a></address>
<!-- Created: Sun Jun 22 23:16:38 PDT 1997 -->
<!-- hhmts start -->
Last modified: Thu Jan 28 22:14:17 EST 1999
<!-- hhmts end -->
  </body>
</html>