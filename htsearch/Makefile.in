include @top_srcdir@/Makefile.config

OBJS=		Display.o DocMatch.o ResultList.o ResultMatch.o \
		Template.o TemplateList.o WeightWord.o htsearch.o \
		parser.o

FOBJS=		../htfuzzy/libfuzzy.a
TARGET=		htsearch
LOCAL_DEFINES=	-DCONFIG_DIR=\"$(CONFIG_DIR)\"

all:	$(TARGET)

$(TARGET):	$(OBJS) $(FOBJS) @top_srcdir@/htcommon/libcommon.a @top_srcdir@/htlib/libht.a
	$(CXX) -o $(TARGET) $(LDFLAGS) $(OBJS) $(FOBJS) $(LIBS)

install:	all
	$(INSTALL) $(TARGET) $(CGIBIN_DIR)/$(TARGET)

clean:
	rm -f $(OBJS) $(TARGET) *~ *.bak *% core *.orig a.out

distclean:	clean
	rm -f Makefile *.proj

depend:
	$(MAKEDEPEND) @CPPFLAGS@ $(CXXFLAGS) -- $(OBJS)

htsearch.o:		@top_srcdir@/CONFIG
